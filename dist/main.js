!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r={getScore:function(){return this.score},setScore:function(e){this.score=e},resetScore:function(){this.current=0}};const o=(e,t)=>e.some(e=>e.name===t),c=localStorage.getItem("winners");let u=0,l=100,a=null!==c?JSON.parse(c):[];const i=Array.from(document.querySelectorAll(".dice")),s=e=>{if(o(a,e)){const t=((e,t)=>e.find(e=>e.name===t))(a,e);return Object.setPrototypeOf(t,r),t}{const t=Object.create(r);return t.name=e,t}};let d=prompt("Введите имя первого игрока","Player 1"),f=prompt("Введите имя второго игрока","Player 2");const m=s(d),y=s(f),S=[m,y];let p=S[u];S.forEach((e,t)=>{null!==e.name&&""!==e.name||(e.name=`Player ${t+1}`)}),m.winRate=m.winRate||0,y.winRate=y.winRate||0;const g=()=>{m.resetScore(),m.score=0,y.resetScore(),y.score=0,document.querySelector("#current-0").textContent=0,document.querySelector("#current-1").textContent=0,document.querySelector("#score-0").textContent=0,document.querySelector("#score-1").textContent=0,i.forEach(e=>e.style.display="none")};g(),document.querySelector(".btn-roll").addEventListener("click",function(){let e=[];i.forEach((t,n)=>{let r=Math.floor(6*Math.random())+1;t.src=`img/dice-${r}.png`,t.style.display="block",e[n]=r}),e.includes(2)||e[0]===e[1]?b():(p.current+=e[0]+e[1],document.getElementById("current-"+u).textContent=p.current,p.getScore()+p.current>=l&&(p.winRate++,o(a,p.name)||a.push(p),localStorage.setItem("winners",JSON.stringify(a)),alert(`${p.name} won!!!`)))});const b=()=>{p.resetScore(),document.getElementById("current-"+u).textContent=0,document.querySelector(`.player-${u}-panel`).classList.toggle("active"),(p=S[u=+!u]).resetScore(),i.forEach(e=>e.style.display="none"),document.querySelector(`.player-${u}-panel`).classList.toggle("active")};document.querySelector(".form__button").addEventListener("click",function(e){e.preventDefault(),l=(e=>{const t=document.querySelector("[name='final-score-value']").value;return t?e=t:alert("Вы не ввели значение в поле ввода"),e})(l)}),document.querySelector(".btn-hold").addEventListener("click",function(){let e=p.getScore();e+=p.current,p.setScore(e),document.querySelector(`#score-${u}`).textContent=e,b()}),document.querySelector(".btn-new").addEventListener("click",function(){g()}),document.querySelector(".btn-show").addEventListener("click",function(){(e=>{if(e.length){const t=e.sort((e,t)=>t.winRate-e.winRate).reduce((e,t)=>e+`${t.name}: ${t.winRate} wins\n`,"");alert(t)}else alert("Еще никто не выигрывал!")})(a)})}]);